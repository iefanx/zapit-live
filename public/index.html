<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="paywall.css?v=1.2">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="manifest" href="manifest.json">

  <title>Zapit</title>
</head>

<body>
  
  
  <form id="paywall-form">
    
    <div class="header">
      <img src="logo.png" alt="Your Logo" id="logo">
      <button type="button" id="toggleButton">Login</button>
    </div>
    
    <div id="hiddenElements" class="hidden">
      <h3><b>One-time login,</b> enter your <b>login key and Zapit Wallet ID</b> that you received
         during <b>account creation.</b> If you are a new user, <b>click on 'Create New User'.</b></h3> 
      <button type="button" id="my-button2" onclick="window.location.href='https://signup.zapit.live/'">Create New User</button><br>
      <input type="password" id="api-key" name="api-key" placeholder="Login key"><br>
      <input type="password" id="wallet-id" name="wallet-id" placeholder="Wallet id"><br>
      <label for="rememberApiKey">Keep Login:</label>
      <input type="checkbox" id="rememberApiKey" name="rememberApiKey" checked>
      <button id="delete-btn">Log out</button>
      <div class="wrapper">
        <div class="divider div-transparent"></div></div>
      <hr> <!-- Add horizontal rule here -->
    </div>
  
    <h2>Put any content behind <mark> Bitcoin lightning paywall.</mark>
      <br> Any content such as Blog, Videos, Audio, Picture & PDF. Create paywalled
       link & share it Everywhere. </h2>
      
       <input type="text" id="memo" name="memo" placeholder="Heading" required><br>
       <textarea id="description" name="description" placeholder="Description" required rows="3"></textarea><br>

     
       <div class="input-container">
        <input type="text" id="url" name="url" placeholder="Media URL" required>
        <button2 id="createLinkBtn" class="media-button">Create Link</button2>  
      </div>
      <div id="myModal" class="modal2">
        <div class="modal-content-wrapper">
          <div class="modal-content2">
           <span class="close">&times;</span>
            <h4>Create media link using Media Uploader, Create, Copy & Paste it here. Remember all this data will be public. For private upload use your own uploader.</h4>
            <div class="button-container">
              <button1 id="openWebsiteBtn" class="link-button">Nostr.build</button1>
            </div>
          </div>
        </div>
      </div> 

      
      <div id="newModal" class="modal3">
        <div class="modal-content-wrapper">
          <div class="modal-content3">
            <span class="close">&times;</span>
            <h4>Recommended: Create a Zapit PWA app for better experience, After this you can use it like a Native application & always up-to-date. </h4>
             <div class="button-container">
              <button1 type="button" id="installPWA" class="common-button">Install on Android & PC</button1>   
             </div>
             <h4><mark>IOS & Safari User</mark></h4>
             <h4>On Safari Click one "Share icon" on top right corner & than click on "Add to Home Screen". Done! </h4> 
          </div>
        </div>
      </div>
     </div>
     
      
      
    
    

     <style>
      .input-wrapper {
        position: relative;
      }
    
      .corner-text {
        position: absolute;
        right: 5px;
        top: 45%;
        transform: translateY(-50%);
        font-size: 14px;
        color: #e9910e;
        margin-right: 5%;
        font-family: 'Roboto', sans-serif, 'arial';

      }
    </style>
    
    <div class="input-wrapper">
      <input type="text"  id="amount" name="amount" placeholder="Minimum Price" required>
      <span class="corner-text">Sats</span>
    </div>
    


    <label for="remembers" style="display:none;">Remember user:</label>
    <input type="checkbox" id="remembers" name="remembers" checked style="display:none;"><br>
    
    <button type="submit" onclick="showResponse()">Monetize</button>
    <div id="response"></div>
  </form>  
    <hr>
    <div class="button-container">
      <button id="newButton" class="common-button">Download</button>
      <button id="otherButton" class="common-button">Marketplace</button>
      <button id="open-wallet-btn" class="common-button">Wallet</button>
      <button id="opensplit" class="common-button">SplitPayment</button>
    </div>
    
    <script>
      if (window.matchMedia('(display-mode: standalone)').matches) {
        document.getElementById('newButton').style.display = 'none';
      }
      </script> 
</footer>
<h3>Create <b>Login key,</b> paste <b>Media URl</b> you want to monetize, <b>set minimum price</b> & Click <b>Monetize</b>. <b>Share the Paywalled link Anywhere. </b><br><BR> Developed by <a href="https://nostrplebs.com/s/iefan" target="_blank" rel="noopener noreferrer">iefan</a> for Nostriches.</h3>

  <!-- Add the scripts -->
<script src="app.js"></script>
  
 
  <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/public/service-worker.js')
          .then(function (registration) {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(function (error) {
            console.error('Service Worker registration failed:', error);
          });
      }
  </script>
 
  
  
</body>
</html>
